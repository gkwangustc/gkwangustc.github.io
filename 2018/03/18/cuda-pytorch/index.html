<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.5.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.5.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="最近在装实验室服务器的时候，遇到了一些问题，采坑无数，参考了很多博客，整合如下：">
<meta property="og:type" content="article">
<meta property="og:title" content="安装CUDA以及Pytorch">
<meta property="og:url" content="http://www.gkwang.space/2018/03/18/cuda-pytorch/index.html">
<meta property="og:site_name" content="NERV">
<meta property="og:description" content="最近在装实验室服务器的时候，遇到了一些问题，采坑无数，参考了很多博客，整合如下：">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://www.gkwang.space/images/cuda.png">
<meta property="og:updated_time" content="2018-11-03T01:35:20.781Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="安装CUDA以及Pytorch">
<meta name="twitter:description" content="最近在装实验室服务器的时候，遇到了一些问题，采坑无数，参考了很多博客，整合如下：">
<meta name="twitter:image" content="http://www.gkwang.space/images/cuda.png">






  <link rel="canonical" href="http://www.gkwang.space/2018/03/18/cuda-pytorch/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>安装CUDA以及Pytorch | NERV</title>
  






  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?de075a211f136f9f5ea851d6c6353b3b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">NERV</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.gkwang.space/2018/03/18/cuda-pytorch/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="王国坤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NERV">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">安装CUDA以及Pytorch
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-03-18 21:05:04" itemprop="dateCreated datePublished" datetime="2018-03-18T21:05:04+08:00">2018-03-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-11-03 09:35:20" itemprop="dateModified" datetime="2018-11-03T09:35:20+08:00">2018-11-03</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>最近在装实验室服务器的时候，遇到了一些问题，采坑无数，参考了很多博客，整合如下：</p>
<a id="more"></a>
<h2 id="慎用-auto-remove："><a href="#慎用-auto-remove：" class="headerlink" title="慎用 auto-remove："></a>慎用 auto-remove：</h2><p>事情的起因是想跑meta_crest的代码，很奇怪的是该程序只能使用python3，使用python2结果不对，因此需要安装python3版本的pytorch，pytorch只支持python3.5及3.6，而ubuntu 14.04的默认版本是python3.4，因此想先卸了python3.4，然后升级，一开始使用的命令是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove python3.4</span><br></pre></td></tr></table></figure></p>
<p>执行完后发现输入python3后仍会启动python3.4，查了一些资料以后，比如这个<a href="http://installion.co.uk/ubuntu/vivid/main/p/python3.4/uninstall/index.html" target="_blank" rel="noopener">坑爹的连接</a>，然后敲下了这行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove --auto-remove python3.4</span><br></pre></td></tr></table></figure>
<p>弹出了一堆要卸载的包，大意是下列软件包是自动安装的并且现在不再被使用了，于是我觉得没问题就卸载了，然后悲剧的发现cuda和cudnn都没有了，装过的mxnet，pytorch，TensorFlow全部都跪了，只能浪费了一天时间重新装回来，后来查了一下，auto-remove还真是不能随便用，auto-remove的作用是卸载所有自动安装且不再使用的软件包，如<a href="https://www.cnblogs.com/qiaoyanlin/p/6914236.html" target="_blank" rel="noopener">这篇博客</a>所说：</p>
<blockquote>
<p>apt-get 提供了一个用于下载和安装软件包的简易命令行界面。<br>卸载软件包主要有这3个命令:</p>
<ul>
<li>remove – 卸载软件包</li>
<li>autoremove – 卸载所有自动安装且不再使用的软件包</li>
<li>purge – 卸载并清除软件包的配置</li>
</ul>
<p>apt-get remove的行为我们很好理解，就是删除某个包的同时，删除依赖于它的包<br>例如： A 依赖于 B, B 依赖于 C<br>apt-get remove 删除B的同时，将删除A(很好理解，A依赖于B，B被删了，A也就无法正常运行了)</p>
<p>apt-get autoremove的行为重点是卸载所有自动安装<br>例如：C 依赖于 B, D 依赖于B, 且D没有被其他手动安装的包依赖<br>apt-get remove C 将删除C, 同时提示你用apt-get autoremove去清除B,D apt-get autoremove C 将删除B, C, D aptitude remove C 将删除B, C, D</p>
<p>我的理解: 删除C, 那么B,D 这两个包既是自动安装的,且没有其他手动安装的包依赖于它们,<br>则可以判定B,D也是没必要的</p>
<p>apt-get purge的行为卸载并清除软件包的配置，很容易理解</p>
<p>依赖性永远是个噩梦，不要考虑用 apt-get autoremove 卸载自己不熟悉的软件包<br>apt-get remove卸载的是自己以及自己的下系<br>apt-get autoremove则是卸载与自己相关而没有被其他手动安装包所依赖的包<br>如果你不是对一个包了解的话，有可能一用一下autoremove一下，你的系统就挂了。。。。。</p>
</blockquote>
<p>另外还有两个惨痛的教训：</p>
<ol>
<li>最好通过包管理软件比如pip, apt-get等来安装卸载软件：</li>
</ol>
<p>python3.6是通过源码编译的方式安装的，后来想卸载时惊奇的发现没有<code>make uninstall</code>这种命令，必须手动卸载，简直反人类，最后只能通过新建一个<code>tmp</code>文件夹，并通过<code>make</code>命令，将安装路径的<code>prefix</code>设置为该文件夹，看看装了什么东西，然后到<code>/usr/local</code>路径下（最早安装在这里）里面一个个去找，然后直接删除，这样会比较危险，也很麻烦，最好的方式还是用包管理软件，切记切记</p>
<ol>
<li>python版本没有必要安装最新的，要跟系统的版本进行匹配：</li>
</ol>
<p>一开始安装的是python3.6，安装pytorch的时候无法通过pip方式来安装对应版本的包，比如pyyaml，cycler等，是下载了源码以后编译安装的（也有可能是pip版本不对。。。），而安装完python3.5级对应版本的pip之后，缺什么就用pip3命令安装什么，简直不要太爽</p>
<h2 id="安装CUDA-8-0"><a href="#安装CUDA-8-0" class="headerlink" title="安装CUDA-8.0"></a>安装CUDA-8.0</h2><p>主要参考这篇博客：<a href="https://www.jianshu.com/p/35c7fde85968" target="_blank" rel="noopener">Ubuntu 14.04安装CUDA-8.0</a></p>
<p>一定要先卸载驱动，然后再用<code>sh</code>来安装<code>.run</code>文件，另外询问是否安装<code>OpenGL</code>时选择<code>No</code>，要不然<code>CUDA-8.0</code>安装时会缺少一些库文件，比如<code>libcusolver</code></p>
<h3 id="0-FIRST-OF-ALL"><a href="#0-FIRST-OF-ALL" class="headerlink" title="0. FIRST OF ALL"></a>0. FIRST OF ALL</h3><h4 id="0-1-如果之前安装过，但失败了的同学，请敲下…"><a href="#0-1-如果之前安装过，但失败了的同学，请敲下…" class="headerlink" title="0.1 如果之前安装过，但失败了的同学，请敲下…"></a>0.1 如果之前安装过，但失败了的同学，请敲下…</h4><p>a).<code>.deb</code>安装失败的….<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get --purge remove nvidia*</span><br></pre></td></tr></table></figure></p>
<p>b)<code>.run</code>安装失败的….<br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /usr/local/cuda-8.0/bin/uninstall_cuda_8.0.pl</span><br><span class="line">$ sudo /usr/bin/nvidia-uninstall</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>在 a) 或 b) 后,若仍安装有问题，请敲下</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get autoremove --purge nvidia-*   #把nvidia驱动清个干干净净</span><br><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>
<ul>
<li>!Note: sudo apt-get remove —purge nvidia-*这条指令并没卸载干净，可能存在驱动的冲突，导致安装不成功  </li>
</ul>
<h4 id="0-2-建议来一本官方安装手册："><a href="#0-2-建议来一本官方安装手册：" class="headerlink" title="0.2 建议来一本官方安装手册："></a>0.2 建议来一本官方安装手册：</h4><p><a href="http://docs.nvidia.com/cuda/cuda-installation-guide-linux/#axzz4RD7GVh1d" target="_blank" rel="noopener">NVIDIA CUDA INSTALLATION GUIDE FOR LINUX</a></p>
<h3 id="1-PRE-INSTALLATION-ACTION"><a href="#1-PRE-INSTALLATION-ACTION" class="headerlink" title="1 PRE-INSTALLATION ACTION"></a>1 PRE-INSTALLATION ACTION</h3><h4 id="1-1-Verify-you-have-a-CUDA-Capable-GPU"><a href="#1-1-Verify-you-have-a-CUDA-Capable-GPU" class="headerlink" title="1.1 Verify you have a CUDA-Capable GPU"></a>1.1 Verify you have a CUDA-Capable GPU</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lspci | grep -i nvidia</span><br></pre></td></tr></table></figure>
<p>我的机器显示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">01:00.0 3D controller: NVIDIA Corporation GF117M [GeForce 610M/710M/810M/820M / GT 620M/625M/630M/720M] (rev a1)</span><br></pre></td></tr></table></figure></p>
<p>到<a href="https://developer.nvidia.com/cuda-gpus" target="_blank" rel="noopener">这里</a>验证型号</p>
<h4 id="1-2-Verify-you-have-a-Supported-Version-of-Linux"><a href="#1-2-Verify-you-have-a-Supported-Version-of-Linux" class="headerlink" title="1.2 Verify you have a Supported Version of Linux"></a>1.2 Verify you have a Supported Version of Linux</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ uname -m &amp;&amp; cat /etc/*release</span><br></pre></td></tr></table></figure>
<p>结果显示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x86_64</span><br><span class="line">DISTRIB_ID=Ubuntu</span><br><span class="line">DISTRIB_RELEASE=14.04</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h4 id="1-3-Verify-the-System-Has-GCC-Installed"><a href="#1-3-Verify-the-System-Has-GCC-Installed" class="headerlink" title="1.3 Verify the System Has GCC Installed"></a>1.3 Verify the System Has GCC Installed</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc --version</span><br></pre></td></tr></table></figure>
<p>结果显示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h4 id="1-4-Verify-the-System-has-the-Correct-Kernel-Headers-and-Development-Packages-Installed"><a href="#1-4-Verify-the-System-has-the-Correct-Kernel-Headers-and-Development-Packages-Installed" class="headerlink" title="1.4 Verify the System has the Correct Kernel Headers and Development Packages Installed"></a>1.4 Verify the System has the Correct Kernel Headers and Development Packages Installed</h4><p>查看正在运行的系统内核版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ uname -r</span><br></pre></td></tr></table></figure></p>
<p>结果显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4.4.0-45-generic</span><br></pre></td></tr></table></figure></p>
<p>安装对应的kernels header和开发包：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install linux-headers-$(uname -r)</span><br></pre></td></tr></table></figure></p>
<h4 id="1-5-Download-the-NVIDIA-CUDA-Toolkit"><a href="#1-5-Download-the-NVIDIA-CUDA-Toolkit" class="headerlink" title="1.5 Download the NVIDIA CUDA Toolkit"></a>1.5 Download the NVIDIA CUDA Toolkit</h4><p>到<a href="https://developer.nvidia.com/cuda-downloads" target="_blank" rel="noopener">这里</a>下载最新.run版本<br>或<a href="https://developer.nvidia.com/cuda-toolkit-archive" target="_blank" rel="noopener">这里</a>选择历史版本<br><img src="/images/cuda.png" alt=""><br>下载完后，用MD5 检验，如果序号不和，得重新下载<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ md5sum cuda_8.0.27_linux.run</span><br><span class="line">5639ffeb939ee58a81554d06bd084e15  cuda_8.0.27_linux.run</span><br></pre></td></tr></table></figure></p>
<h3 id="2-RUNFILE-INSTALLATION"><a href="#2-RUNFILE-INSTALLATION" class="headerlink" title="2. RUNFILE INSTALLATION"></a>2. RUNFILE INSTALLATION</h3><h4 id="2-1-Disabling-Nouveau"><a href="#2-1-Disabling-Nouveau" class="headerlink" title="2.1 Disabling Nouveau"></a>2.1 Disabling Nouveau</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lsmod | grep nouveau</span><br></pre></td></tr></table></figure>
<p>如果有内容输出，则需禁掉<code>nouveau</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/modprobe.d/blacklist-nouveau.conf</span><br></pre></td></tr></table></figure></p>
<p>添加如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">blacklist nouveau</span><br><span class="line">options nouveau modeset=0</span><br></pre></td></tr></table></figure></p>
<p>保存退出(<code>:wq</code>)<br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-initramfs –u</span><br></pre></td></tr></table></figure></p>
<p>再执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lsmod | grep nouveau</span><br></pre></td></tr></table></figure></p>
<p>若无内容输出，则禁用成功<br>然后重启电脑<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure></p>
<h4 id="2-2-Reboot-Into-Text-Mode"><a href="#2-2-Reboot-Into-Text-Mode" class="headerlink" title="2.2 Reboot Into Text Mode"></a>2.2 Reboot Into Text Mode</h4><p>重启后，进入登录界面的时候，不要登录进入桌面(否则可能会失败，若不小心进入，请重启电脑)，直接按<code>Ctrl+Alt+F1</code>进入文本模式（命令行界面），登录账户。</p>
<p>关闭图形化界面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service lightdm stop</span><br></pre></td></tr></table></figure></p>
<p>切换到<code>cuda_8.0.27_linux.run</code>的目录，执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo sh cuda_8.0.27_linux.run</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>!Note:安装的时候，要让你先看一堆文字（EULA)，我们直接不停的按空格键到100%;<br>遇到提示是否安装openGL ，选择no,其他的可以一路accept, yes或回车</p>
</blockquote>
<p>安装成功后，会显示<strong>installed</strong>，否则会显示<strong>failed</strong>。</p>
<p>重启图形化界面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service lightdm start</span><br></pre></td></tr></table></figure></p>
<p>登录时能进入桌面，不会一直在重复登录，成功已近大半。</p>
<blockquote>
<p>!Note:如果出现重复登陆情况，请卸载cuda,然后重装。<br>原因：是OpenGL与NVIDIA发生了什么什么的<br>卸载：由于登陆进入不到图形用户界面（GUI），但我们可以进入到文本用户界面(TUI)(TUI很酷有没有?)</p>
</blockquote>
<ul>
<li>在登陆界面时，按Ctrl + Alt + f1,进入TUI</li>
<li><p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /usr/local/cuda-8.0/bin/uninstall_cuda_8.0.pl</span><br><span class="line">$ sudo /usr/bin/nvidia-uninstall</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后重启</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新安装.run(安装时请留眼，在提示是否安装OpenGL时，应该选no)  </p>
</li>
</ul>
<h4 id="2-3-Device-Node-Verification"><a href="#2-3-Device-Node-Verification" class="headerlink" title="2.3 Device Node Verification"></a>2.3 Device Node Verification</h4><p>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ls /dev/nvidia*</span><br></pre></td></tr></table></figure></p>
<p>可能出现a), b), c)，d)三种结果，请对号入座。前方高能！</p>
<p>a) 若结果显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/nvidia0  /dev/nvidiactl  /dev/nvidia-uvm</span><br></pre></td></tr></table></figure></p>
<p>或显示出类似的信息，应该有三个（包含一个类似/dev/nvidia-nvm的），则安装成功</p>
<p>b) 如果运气有点背，结果是这样的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls: cannot access /dev/nvidia*: No such file or directory</span><br></pre></td></tr></table></figure></p>
<p>或是这样的，只出现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/nvidia0  /dev/nvidiactl</span><br></pre></td></tr></table></figure></p>
<p>中的一个或两个，但没有/dev/nvidia-num</p>
<p>莫方，也许还有希望（我在安装时就是这种情况。。。）按照官方的做法：</p>
<p>把下面的<code>.sh</code>文件随便命个名(我命名为<code>Nka.sh</code>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">/sbin/modprobe nvidia</span><br><span class="line"></span><br><span class="line">if [ &quot;$?&quot; -eq 0 ]; then</span><br><span class="line">  # Count the number of NVIDIA controllers found.</span><br><span class="line">  NVDEVS=`lspci | grep -i NVIDIA`</span><br><span class="line">  N3D=`echo &quot;$NVDEVS&quot; | grep &quot;3D controller&quot; | wc -l`</span><br><span class="line">  NVGA=`echo &quot;$NVDEVS&quot; | grep &quot;VGA compatible controller&quot; | wc -l`</span><br><span class="line"></span><br><span class="line">  N=`expr $N3D + $NVGA - 1`</span><br><span class="line">  for i in `seq 0 $N`; do</span><br><span class="line">    mknod -m 666 /dev/nvidia$i c 195 $i</span><br><span class="line">  done</span><br><span class="line"></span><br><span class="line">  mknod -m 666 /dev/nvidiactl c 195 255</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line">  exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">/sbin/modprobe nvidia-uvm</span><br><span class="line"></span><br><span class="line">if [ &quot;$?&quot; -eq 0 ]; then</span><br><span class="line">  # Find out the major device number used by the nvidia-uvm driver</span><br><span class="line">  D=`grep nvidia-uvm /proc/devices | awk &apos;&#123;print $1&#125;&apos;`</span><br><span class="line"></span><br><span class="line">  mknod -m 666 /dev/nvidia-uvm c $D 0</span><br><span class="line">else</span><br><span class="line">  exit 1</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></p>
<p>然后执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chmod +x Nka.sh</span><br><span class="line">$ sudo ./Nka.sh</span><br><span class="line">$  ls /dev/nvidia*</span><br><span class="line">/dev/nvidia0  /dev/nvidiactl  /dev/nvidia-uvm</span><br></pre></td></tr></table></figure></p>
<p>成功！</p>
<blockquote>
<p>1， 这种做不太友好，我的意思是，当下次重启电脑时，你使用ls /dev/nvidia*指令时，你是看不到那三个nvidia的文件了。所以你又得手动执行<br>sudo ./Nka.sh指令了，是不是很烦！其实上面的.sh文件是startup scipt，也就是启动脚本。顾名思义，就是在系统启动时，自动加载的。哈，这么棒的功能就是我们想要的。<br>2， 添加启动脚本的方法大致有两种，我就此介绍一种最傻瓜化的方法。  </p>
</blockquote>
<p>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/rc.local</span><br></pre></td></tr></table></figure></p>
<p>如果你是第一次打开这个文件，它应该是空的(除了一行又一行的#注释项外)。这文件的第一行是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh -e</span><br></pre></td></tr></table></figure></p>
<p>把-e去掉（这步很重要，否则它不会加载这文本的内容）<br>然后把<code>Nka.sh</code>的内容除了<code>#!/bin/bash</code>外复制到其中，(before <strong>exit 0</strong>)保存退出。<br>下次重启时，你应该能直接看到<code>/dev</code>目录下的三个<code>nvidia</code>的文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls /dev/nvidia*</span><br><span class="line">/dev/nvidia0 /dev/nvidiactl /dev/nvidia-uvm</span><br></pre></td></tr></table></figure></p>
<p>c) 如果人品实在不好（我就遇过几次。。。），结果是这样的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">modprobe: ERROR: could not insert &apos;nvidia_uvm&apos;: Operation not permitted</span><br></pre></td></tr></table></figure></p>
<p>少年，我救不了你了。但是<strong>winney</strong>大神可以。（在此谢过她了，阿 里 嘎 多！）</p>
<p>当出现这种情况时，可能是驱动打起架来了。<br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get autoremove --purge nvidia-* #把nvidia驱动清个干干净净</span><br><span class="line">$ sudo reboot         #一定记得重启，不然你会后悔的!</span><br></pre></td></tr></table></figure></p>
<p>然后<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ./Nka.sh</span><br><span class="line">$ ls /dev/nvidia*</span><br></pre></td></tr></table></figure></p>
<p>这时，应该可以见到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/nvidia0 /dev/nvidiactl /dev/nvidia-uvm</span><br></pre></td></tr></table></figure></p>
<p>d) 未知，有点悲伤的告诉你，少年，我只能帮到这了,建议网上另寻方案，或重装.run。Gook Luck!</p>
<h3 id="3-POST-INSTALLATION-ACTIONS"><a href="#3-POST-INSTALLATION-ACTIONS" class="headerlink" title="3 POST-INSTALLATION ACTIONS"></a>3 POST-INSTALLATION ACTIONS</h3><h4 id="3-1-Environment-Setup"><a href="#3-1-Environment-Setup" class="headerlink" title="3.1 Environment Setup"></a>3.1 Environment Setup</h4><p>打开系统配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>在文件最后添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/cuda-8.0/bin:$PATH</span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/cuda-8.0/lib64:$LD_LIBRARY_PATH</span><br></pre></td></tr></table></figure></p>
<p>保存退出</p>
<p>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ source /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>让文件立即生效</p>
<p>至此cuda 8.0安装完毕。</p>
<h3 id="3-2-Verify-the-Installation"><a href="#3-2-Verify-the-Installation" class="headerlink" title="3.2 Verify the Installation"></a>3.2 Verify the Installation</h3><h4 id="3-2-1-Verify-the-Driver-Version"><a href="#3-2-1-Verify-the-Driver-Version" class="headerlink" title="3.2.1 Verify the Driver Version"></a>3.2.1 Verify the Driver Version</h4><p>敲入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/driver/nvidia/version</span><br></pre></td></tr></table></figure></p>
<p>结果显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NVRM version: NVIDIA UNIX x86_64 Kernel Module  361.77  Sun Jul 17 21:18:18 PDT 2016</span><br><span class="line">GCC version:  gcc version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04.3)</span><br></pre></td></tr></table></figure></p>
<p>或之类的东东</p>
<h4 id="3-2-2-Verify-CUDA-Toolkit"><a href="#3-2-2-Verify-CUDA-Toolkit" class="headerlink" title="3.2.2 Verify CUDA Toolkit"></a>3.2.2 Verify CUDA Toolkit</h4><p>敲入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvcc -V</span><br></pre></td></tr></table></figure></p>
<p>结果显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2016 NVIDIA Corporation</span><br><span class="line">Built on Wed_May__4_21:01:56_CDT_2016</span><br><span class="line">Cuda compilation tools, release 8.0, V8.0.26</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>!Note: 如果是这样的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The program &apos;nvcc&apos; is currently not installed. You can install it by typing:</span><br><span class="line">sudo apt-get install nvidia-cuda-toolkit</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>莫方，确认下<code>/etc/profile</code>的配置环境是否正确</p>
<blockquote>
<p>即使什么都没改，可能忘了这一步,或是之前执行了，但过了有段时间，且又还没重启电脑。因为source /etc/profile是临时生效，重启电脑才是永久生效</p>
</blockquote>
<p>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ source /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>再执行(应该就有显示了）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvcc -V</span><br></pre></td></tr></table></figure></p>
<h4 id="3-2-3-Complie-sample"><a href="#3-2-3-Complie-sample" class="headerlink" title="3.2.3 Complie sample"></a>3.2.3 Complie sample</h4><p><code>cd</code>进NVIDIA_CUDA-8.0_Samples目录<br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$  make</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>!Note: 这区间大概需要十几到二十分钟，请耐心等待。建议来杯caffe</p>
</blockquote>
<p>运行完后，编译结果会放在<code>NVIDIA_CUDA-8.0_Samples</code>目录下的<code>bin</code>目录</p>
<h4 id="3-2-3-Running-the-Binaries"><a href="#3-2-3-Running-the-Binaries" class="headerlink" title="3.2.3 Running the Binaries"></a>3.2.3 Running the Binaries</h4><p><code>cd</code>进<code>bin</code>目录里面的里面的里面，知道看到一堆可执行文件（菱形的图标），大概是<code>~/NVIDIA_CUDA-8.0_Samples/bin/x86_64/linux/release</code></p>
<p>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./deviceQuery</span><br></pre></td></tr></table></figure></p>
<p>结果显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">./deviceQuery Starting...</span><br><span class="line"></span><br><span class="line"> CUDA Device Query (Runtime API) version (CUDART static linking)</span><br><span class="line"></span><br><span class="line">Detected 1 CUDA Capable device(s)</span><br><span class="line"></span><br><span class="line">Device 0: &quot;GeForce GT 720M&quot;</span><br><span class="line">  CUDA Driver Version / Runtime Version          8.0 / 8.0</span><br><span class="line">  CUDA Capability Major/Minor version number:    2.1</span><br><span class="line">  Total amount of global memory:                 1985 MBytes (2081226752 bytes)</span><br><span class="line">  ( 2) Multiprocessors, ( 48) CUDA Cores/MP:     96 CUDA Cores</span><br><span class="line">  GPU Max Clock rate:                            1250 MHz (1.25 GHz)</span><br><span class="line">  Memory Clock rate:                             800 Mhz</span><br><span class="line">  Memory Bus Width:                              64-bit</span><br><span class="line">  L2 Cache Size:                                 131072 bytes</span><br><span class="line">  Maximum Texture Dimension Size (x,y,z)         1D=(65536), 2D=(65536, 65535), 3D=(2048, 2048, 2048)</span><br><span class="line">  Maximum Layered 1D Texture Size, (num) layers  1D=(16384), 2048 layers</span><br><span class="line">  Maximum Layered 2D Texture Size, (num) layers  2D=(16384, 16384), 2048 layers</span><br><span class="line">  Total amount of constant memory:               65536 bytes</span><br><span class="line">  Total amount of shared memory per block:       49152 bytes</span><br><span class="line">  Total number of registers available per block: 32768</span><br><span class="line">  Warp size:                                     32</span><br><span class="line">  Maximum number of threads per multiprocessor:  1536</span><br><span class="line">  Maximum number of threads per block:           1024</span><br><span class="line">  Max dimension size of a thread block (x,y,z): (1024, 1024, 64)</span><br><span class="line">  Max dimension size of a grid size    (x,y,z): (65535, 65535, 65535)</span><br><span class="line">  Maximum memory pitch:                          2147483647 bytes</span><br><span class="line">  Texture alignment:                             512 bytes</span><br><span class="line">  Concurrent copy and kernel execution:          Yes with 1 copy engine(s)</span><br><span class="line">  Run time limit on kernels:                     No</span><br><span class="line">  Integrated GPU sharing Host Memory:            No</span><br><span class="line">  Support host page-locked memory mapping:       Yes</span><br><span class="line">  Alignment requirement for Surfaces:            Yes</span><br><span class="line">  Device has ECC support:                        Disabled</span><br><span class="line">  Device supports Unified Addressing (UVA):      Yes</span><br><span class="line">  Device PCI Domain ID / Bus ID / location ID:   0 / 1 / 0</span><br><span class="line">  Compute Mode:</span><br><span class="line">     &lt; Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) &gt;</span><br><span class="line"></span><br><span class="line">deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 8.0, CUDA Runtime Version = 8.0, NumDevs = 1, Device0 = GeForce GT 720M</span><br><span class="line">Result = PASS</span><br></pre></td></tr></table></figure></p>
<p>或之类的东东，且最后是<code>Result = PASS</code>,若失败<code>Result = FAIL</code></p>
<p>再来一个，执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./bandwidthTest</span><br></pre></td></tr></table></figure></p>
<p>结果显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[CUDA Bandwidth Test] - Starting...</span><br><span class="line">Running on...</span><br><span class="line"></span><br><span class="line"> Device 0: GeForce GT 720M</span><br><span class="line"> Quick Mode</span><br><span class="line"></span><br><span class="line"> Host to Device Bandwidth, 1 Device(s)</span><br><span class="line"> PINNED Memory Transfers</span><br><span class="line">   Transfer Size (Bytes)    Bandwidth(MB/s)</span><br><span class="line">   33554432         3220.9</span><br><span class="line"></span><br><span class="line"> Device to Host Bandwidth, 1 Device(s)</span><br><span class="line"> PINNED Memory Transfers</span><br><span class="line">   Transfer Size (Bytes)    Bandwidth(MB/s)</span><br><span class="line">   33554432         3271.9</span><br><span class="line"></span><br><span class="line"> Device to Device Bandwidth, 1 Device(s)</span><br><span class="line"> PINNED Memory Transfers</span><br><span class="line">   Transfer Size (Bytes)    Bandwidth(MB/s)</span><br><span class="line">   33554432         9772.8</span><br><span class="line"></span><br><span class="line">Result = PASS</span><br><span class="line"></span><br><span class="line">NOTE: The CUDA Samples are not meant for performance measurements. Results may vary when GPU Boost is enabled.</span><br></pre></td></tr></table></figure></p>
<p>少年，恭喜你！你已成功安装<code>cuda-8.0</code>,接下来就可以愉快的玩耍了</p>
<h2 id="安装python3-5"><a href="#安装python3-5" class="headerlink" title="安装python3.5"></a>安装python3.5</h2><p>ubuntu14.04版本无法直接通过apt-get来安装python3.5，需要先加入第三方维护的ppa,update后才能安装，执行如下所示命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:fkrull/deadsnakes</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install python3.5</span><br></pre></td></tr></table></figure>
<p>安装后，输入python启动的是python2.7.2, 由于Ubuntu底层采用的是Python2.<em>，Python3.</em>与Python2.*是不兼容的，但是不能卸载Python2,随意卸载会出现意想不到的后果,最好不要随便更改python的指向，而是应该通过python3的方式来启动python3.5，但是安装完后输入python3启动的并不是python3.5而是系统默认的python3.4，可以采用以下方式来更改python3的指向：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 新建 ~/.bash_aliases</span><br><span class="line">2. 输入 alias python3=python3.5</span><br><span class="line">3. 更新 source ~/.bash_aliases</span><br></pre></td></tr></table></figure>
<p>此后输入python3,就会启动python3.5</p>
<h2 id="安装pip3-5"><a href="#安装pip3-5" class="headerlink" title="安装pip3.5:"></a>安装pip3.5:</h2><p>系统自带的pip3是针对系统安装的python3.5的，因此需要安装python3.5版本对应的pip3：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">sudo python3 get-pip.py</span><br><span class="line">sudo pip3 install setuptools --upgrade</span><br></pre></td></tr></table></figure>
<p>安装完毕后，同样在<code>~/.bash_aliases</code>中加入<code>alias pip3=pip3.5</code>来进行替换。</p>
<h2 id="安装tensorflow"><a href="#安装tensorflow" class="headerlink" title="安装tensorflow:"></a>安装tensorflow:</h2><p>由于机器安装的是CUDA-8.0，而TensorFlow仅在1.2版本以下支持CUDA-8.0，因此只能安装1.2版本，直接采用pip方式进行安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install tensorflow-gpu==1.2.0</span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/04/hexo-perfect-synchronize/" rel="prev" title="最完美的Hexo多电脑同步方法">
                最完美的Hexo多电脑同步方法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="王国坤">
            
              <p class="site-author-name" itemprop="name">王国坤</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/gkwangustc" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#慎用-auto-remove："><span class="nav-number">1.</span> <span class="nav-text">慎用 auto-remove：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装CUDA-8-0"><span class="nav-number">2.</span> <span class="nav-text">安装CUDA-8.0</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-FIRST-OF-ALL"><span class="nav-number">2.1.</span> <span class="nav-text">0. FIRST OF ALL</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#0-1-如果之前安装过，但失败了的同学，请敲下…"><span class="nav-number">2.1.1.</span> <span class="nav-text">0.1 如果之前安装过，但失败了的同学，请敲下…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#0-2-建议来一本官方安装手册："><span class="nav-number">2.1.2.</span> <span class="nav-text">0.2 建议来一本官方安装手册：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-PRE-INSTALLATION-ACTION"><span class="nav-number">2.2.</span> <span class="nav-text">1 PRE-INSTALLATION ACTION</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-Verify-you-have-a-CUDA-Capable-GPU"><span class="nav-number">2.2.1.</span> <span class="nav-text">1.1 Verify you have a CUDA-Capable GPU</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-Verify-you-have-a-Supported-Version-of-Linux"><span class="nav-number">2.2.2.</span> <span class="nav-text">1.2 Verify you have a Supported Version of Linux</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-Verify-the-System-Has-GCC-Installed"><span class="nav-number">2.2.3.</span> <span class="nav-text">1.3 Verify the System Has GCC Installed</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-Verify-the-System-has-the-Correct-Kernel-Headers-and-Development-Packages-Installed"><span class="nav-number">2.2.4.</span> <span class="nav-text">1.4 Verify the System has the Correct Kernel Headers and Development Packages Installed</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-Download-the-NVIDIA-CUDA-Toolkit"><span class="nav-number">2.2.5.</span> <span class="nav-text">1.5 Download the NVIDIA CUDA Toolkit</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-RUNFILE-INSTALLATION"><span class="nav-number">2.3.</span> <span class="nav-text">2. RUNFILE INSTALLATION</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-Disabling-Nouveau"><span class="nav-number">2.3.1.</span> <span class="nav-text">2.1 Disabling Nouveau</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-Reboot-Into-Text-Mode"><span class="nav-number">2.3.2.</span> <span class="nav-text">2.2 Reboot Into Text Mode</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-Device-Node-Verification"><span class="nav-number">2.3.3.</span> <span class="nav-text">2.3 Device Node Verification</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-POST-INSTALLATION-ACTIONS"><span class="nav-number">2.4.</span> <span class="nav-text">3 POST-INSTALLATION ACTIONS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-Environment-Setup"><span class="nav-number">2.4.1.</span> <span class="nav-text">3.1 Environment Setup</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Verify-the-Installation"><span class="nav-number">2.5.</span> <span class="nav-text">3.2 Verify the Installation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-Verify-the-Driver-Version"><span class="nav-number">2.5.1.</span> <span class="nav-text">3.2.1 Verify the Driver Version</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-Verify-CUDA-Toolkit"><span class="nav-number">2.5.2.</span> <span class="nav-text">3.2.2 Verify CUDA Toolkit</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-3-Complie-sample"><span class="nav-number">2.5.3.</span> <span class="nav-text">3.2.3 Complie sample</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-3-Running-the-Binaries"><span class="nav-number">2.5.4.</span> <span class="nav-text">3.2.3 Running the Binaries</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装python3-5"><span class="nav-number">3.</span> <span class="nav-text">安装python3.5</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装pip3-5"><span class="nav-number">4.</span> <span class="nav-text">安装pip3.5:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装tensorflow"><span class="nav-number">5.</span> <span class="nav-text">安装tensorflow:</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright"> &copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王国坤</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Mist</a></div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.5.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.5.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>



  



  










  





  

  

  

  

  
  

  
  

  


  
  

  

  

  

  

  

</body>
</html>
